<!doctype html>

<html>



<head>

    <meta charset="UTF-8">

    <title>Video.js DNA Plugin</title>

    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <style>

        body {

            font-family: 'Roboto', sans-serif;

        }

    </style>

    <link rel="stylesheet" href="//samples.streamroot.io/web/assets/demo-pages.css">



    <!-- Makes the header

    <script src="//samples.streamroot.io/web/assets/header.js"></script>
 -->


    <!-- Video.js Builds -->

    <link href="//vjs.zencdn.net/7.4.1/video-js.min.css" rel="stylesheet">

    <script src="//vjs.zencdn.net/7.4.1/video.min.js"></script>



    <!-- Streamroot Builds -->

    <script src="//cdn.streamroot.io/videojs-hls-dna-plugin/1/stable/videojs-hls-dna-plugin.js#streamrootKey=1c04d9d9-96d7-4bce-be8b-ab38b319047c"></script>

    <script src="//cdn.streamroot.io/videojs-hlsjs-plugin/1/stable/videojs-hlsjs-plugin.js"></script>



    <!-- Graphs -->

    <script src="//tools.streamroot.io/usage-graphs/stable/graphs.js"></script>

</head>



<body>

    <header></header>

    <center>

        <div>

            <video id=demoplayer width=512 height=288 class="video-js vjs-default-skin" controls autoplay muted>

                <source src='http://vod-l3.delivery.streamroot.io/vodOrigin/tos1500.mp4/playlist.m3u8' type="application/x-mpegURL">

            </video>

        </div>
        <div id="p2pUploadEnabled">
            <br/>
            <button type="button" id="p2pUploadEnabledButton" onclick="p2pUpload()">Enable/Disable P2P upload</button>
            <br />
        </div>
        <div id="streamroot-graphs"></div>

    </center>

    <script>
        var p2pEnabled = true
        var p2pbutton = document.getElementById("p2pUploadEnabledButton");
        function p2pUpload() {
            p2pEnabled = !p2pEnabled
            if(p2pEnabled){
                p2pbutton.style.color = "green"
                return "default"
            }
            p2pbutton.style.color = "red"
            return "noupload"
        }

        var contentUrl ="http://vod-l3.delivery.streamroot.io/vodOrigin/tos1500.mp4/playlist.m3u8";
        var contentID="contentID";
        function contentIdFn(contentUrl) {
            return contentID;
        }
        var options = {

            dnaConfig: {
                "contentIdGenerator" : contentIdFn,
                "property": p2pUpload
            },

            html5: {

                hlsjsConfig: {}

            }

        };

        var player = videojs('demoplayer', options);
        player.src(contentUrl);
    </script>



</body>

​



</html>

​